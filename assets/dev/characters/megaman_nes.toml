version = 1
include = [
  "../../characters/_includes/render_megamanx_placeholder.toml",
  "../../characters/_includes/render_anims_dash_rotate_45.toml",
  "../../characters/_includes/math_pixel_trunc_256.toml",
]

[name]
id = "megaman_nes"
display = "Mega Man (NES)"

[form]
id = "puppet"
palette_base = "5C94FC"
palette_accent = "00D8FF"
variants = ["megaman_nes"]

[form.colors]
skin = "FCE4C0"
glove = "5C94FC"
shoe = "5C94FC"
weapon = "5C94FC"

[form.anchor_deltas]
head = [0, 1]
body = [0, 1]

[physics]
gravity = 0.083333
max_fall_speed = 9.17
ground_friction = 10.0
air_drag = 0.0

[move]
model = "instant"
air_control = true
max_speed_ground = 0.666667
max_speed_air = 0.666667
turn_resistance = 0.0

[jump]
enabled = true
model = "fixed"
impulse = 2.50
coyote_frames = 0
jump_buffer_frames = 0
variable_jump = false
fall_gravity_multiplier = 1.0

[actions.spin]
enabled = false

[actions.dash]
enabled = false
input = "action2"

[actions.fly]
enabled = false

[actions.glide]
enabled = false

[actions.spindash]
enabled = false

# Mega Man-style slide (Down+Jump on solid ground)
[states.slide]
enabled = true
duration_frames = 60        # 500ms at 120Hz
jump_lockout_frames = 16       # 8 frames at 60fps
allow_jump_cancel = true    # can jump out after lockout (unlike MM6)
hitbox_w = 24.0             # same width
hitbox_h = 18.0             # ducking height
slide_speed = 1.25         # ~2.5 px/frame (constant, no friction)
cancel_on_ground_loss = true  # MM-accurate: cancel if ground disappears
stay_low_under_ceiling = true # stay crouched if no headroom
